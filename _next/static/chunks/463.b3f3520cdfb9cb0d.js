(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[463],{409:e=>{e.exports={pitchContainer:"FootballPitch_pitchContainer__hqvFg",pitch:"FootballPitch_pitch__bG5OZ",grid:"FootballPitch_grid__cCShI",zoneCell:"FootballPitch_zoneCell__o2_zw",firstSelection:"FootballPitch_firstSelection__j09nC",secondSelection:"FootballPitch_secondSelection__Hc9lk",selected:"FootballPitch_selected__Hiad0",xTValue:"FootballPitch_xTValue__cFfj3",pitchLines:"FootballPitch_pitchLines__UWyrF",centerLine:"FootballPitch_centerLine__RYF2r",centerCircle:"FootballPitch_centerCircle__asdNK",penaltyAreaLeft:"FootballPitch_penaltyAreaLeft__FS9nY",goalAreaLeft:"FootballPitch_goalAreaLeft__2hiHr",penaltyAreaRight:"FootballPitch_penaltyAreaRight__RVgZG",goalAreaRight:"FootballPitch_goalAreaRight__vu62C",actionText:"FootballPitch_actionText__RN4XO",pulseText:"FootballPitch_pulseText__d9Bcz"}},5463:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>v});var a=o(5155),n=o(2115),l=o(409),i=o.n(l),c=o(9729);let s=e=>{let t=(e-.00638303)/.25107059;if(t<.2);else if(t<.4)return"rgba(239, 140, 11, 0.63)";else if(t<.6)return"rgb(127, 90, 213, 0.6)";else if(t<.8)return"rgb(139, 37, 207)";else return"rgba(241, 58, 12, 0.8)"},r=(0,n.memo)(function(e){let{zoneIndex:t,xTValue:o,isSelected:l,isFirstSelection:c,isSecondSelection:r,onSelect:d}=e,_=(0,n.useMemo)(()=>o>=.1?"extreme":o>=.04?"veryhigh":o>=.02?"high":"",[o]);(0,n.useEffect)(()=>{(c||r)&&console.log("ZoneCell ".concat(t,": "),{isFirstSelection:c,isSecondSelection:r,xTValue:o.toFixed(3),label:c?"PASS":r?"RECEIVE":"NONE"})},[t,c,r,o]);let p="".concat(i().zoneCell," ").concat(c?i().firstSelection:r?i().secondSelection:l?i().selected:"");return(0,a.jsxs)("div",{className:p,onClick:()=>{console.log("Kliknięto strefę ".concat(t," z wartością xT: ").concat(o.toFixed(3))),d(t)},style:{backgroundColor:s(o)},role:"gridcell","aria-selected":l||c||r,tabIndex:0,"data-zone-index":t,"data-xt-value":_,"data-selection-type":c?"pass":r?"receive":"none",children:[!c&&!r&&(0,a.jsx)("span",{className:i().xTValue,children:o.toFixed(3)}),c&&(0,a.jsx)("span",{className:i().actionText,children:"PASS"}),r&&(0,a.jsx)("span",{className:i().actionText,children:"RECEIVE"})]})});r.displayName="ZoneCell";let d=(0,n.memo)(function(e){let{selectedZone:t,onZoneSelect:o,startZone:l,endZone:s}=e;(0,n.useEffect)(()=>{console.log("FootballPitch - zmiany stref:",{startZone:l,endZone:s,selectedZone:t})},[l,s,t]);let d=(0,n.useCallback)(e=>{let t=Math.floor(e/12),a=(0,c.pU)(t,e%12);console.log("FootballPitch - handleZoneClick: strefa ".concat(e,", xT: ").concat(a.toFixed(3))),o(e,a)},[o]),_=n.useMemo(()=>Array.from({length:96},(e,o)=>{let n=Math.floor(o/12),i=(0,c.pU)(n,o%12);return(0,a.jsx)(r,{zoneIndex:o,xTValue:i,isSelected:t===o,isFirstSelection:l===o,isSecondSelection:s===o,onSelect:d},o)}),[t,l,s,d]);return(0,a.jsx)("div",{className:i().pitchContainer,children:(0,a.jsxs)("div",{className:i().pitch,role:"grid","aria-label":"Boisko piłkarskie podzielone na strefy",children:[(0,a.jsx)("div",{className:i().grid,children:_}),(0,a.jsxs)("div",{className:i().pitchLines,"aria-hidden":"true",children:[(0,a.jsx)("div",{className:i().centerLine}),(0,a.jsx)("div",{className:i().centerCircle}),(0,a.jsx)("div",{className:i().penaltyAreaLeft}),(0,a.jsx)("div",{className:i().goalAreaLeft}),(0,a.jsx)("div",{className:i().penaltyAreaRight}),(0,a.jsx)("div",{className:i().goalAreaRight})]})]})})});d.displayName="FootballPitch";var _=o(9101),p=o.n(_),u=o(7091),b=o.n(u);let h=(0,n.memo)(function(e){let{actionType:t,onActionTypeChange:o}=e,l=(0,n.useCallback)(()=>{o("pass")},[o]),i=(0,n.useCallback)(()=>{o("dribble")},[o]);return(0,a.jsxs)("div",{className:b().toggleContainer,role:"radiogroup","aria-label":"Typ akcji",children:[(0,a.jsx)("button",{className:"".concat(b().toggleButton," ").concat("pass"===t?b().active:""),onClick:l,"aria-pressed":"pass"===t,type:"button",children:"Podanie"}),(0,a.jsx)("button",{className:"".concat(b().toggleButton," ").concat("dribble"===t?b().active:""),onClick:i,"aria-pressed":"dribble"===t,type:"button",children:"Drybling"})]})});h.displayName="ActionTypeToggle";let m=[{points:1,label:"Minięty przeciwnik",description:"Dodaj punkt za minięcie obrońcy",type:"points"},{points:0,label:"Podanie do P3",description:"Aktywuj/Dezaktywuj",type:"toggle"}],g=(0,n.memo)(function(e){let{player:t,isSender:o,isReceiver:n,isDribbler:l=!1,onSelect:i}=e,c=!!t.imageUrl;return(0,a.jsxs)("div",{className:"".concat(p().playerTile," \n        ").concat(o?p().playerSenderTile:""," \n        ").concat(n?p().playerReceiverTile:""," \n        ").concat(l?p().playerDribblerTile:"","\n        ").concat(c?p().withImage:""),onClick:()=>i(t.id),role:"button",tabIndex:0,"aria-pressed":o||n||l,children:[c&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("img",{src:t.imageUrl,alt:"",className:p().playerTileImage,onError:e=>{e.target.style.display="none"}}),(0,a.jsx)("div",{className:p().playerTileOverlay})]}),(0,a.jsxs)("div",{className:p().playerContent,children:[(0,a.jsx)("div",{className:p().number,children:t.number}),(0,a.jsxs)("div",{className:p().playerInfo,children:[(0,a.jsx)("div",{className:p().name,children:t.name}),(0,a.jsx)("div",{className:p().details,children:t.position&&(0,a.jsx)("span",{className:p().position,children:t.position})})]})]})]})}),y=e=>{let{isOpen:t,onClose:o,players:n,selectedPlayerId:l,selectedReceiverId:i,onSenderSelect:c,onReceiverSelect:s,actionMinute:r,onMinuteChange:d,actionType:_,onActionTypeChange:u,currentPoints:b,onAddPoints:y,isP3Active:j,onP3Toggle:x,isShot:A,onShotToggle:v,isGoal:f,onGoalToggle:N,isPenaltyAreaEntry:k,onPenaltyAreaEntryToggle:T,isSecondHalf:C,onSecondHalfToggle:M,onSaveAction:z,onReset:B}=e;if(!t)return null;let S=e=>{if("dribble"===_)e===l?c(null):c(e),i&&s(null);else{if(e===l){c(null);return}if(e===i){s(null);return}if(!l){c(e);return}if(l&&!i){s(e);return}c(e),s(null)}},P=e=>{y(e)},w=e=>{M(e),e&&r<46?d(46):!e&&r>65&&d(45),console.log("Zmieniono połowę na: ".concat(e?"P2":"P1"))},F=async()=>{if(!l){alert("Wybierz zawodnika rozpoczynającego akcję!");return}if("pass"===_&&!i){alert("Wybierz zawodnika kończącego podanie!");return}z()},I=()=>{B(),o()};return(0,a.jsx)("div",{className:p().modalOverlay,onClick:I,children:(0,a.jsxs)("div",{className:p().modalContent,onClick:e=>e.stopPropagation(),children:[(0,a.jsx)("h2",{children:"Dodaj akcję"}),(0,a.jsxs)("div",{className:p().form,children:[(0,a.jsx)("div",{className:p().formGroup,children:(0,a.jsxs)("div",{className:p().togglesRow,children:[(0,a.jsxs)("div",{className:p().toggleGroup,children:[(0,a.jsx)("label",{children:"Typ akcji:"}),(0,a.jsx)(h,{actionType:_,onActionTypeChange:e=>{u(e),"dribble"===e&&i&&s(null)}})]}),(0,a.jsxs)("div",{className:p().toggleGroup,children:[(0,a.jsx)("label",{children:"Połowa:"}),(0,a.jsxs)("div",{className:p().halfToggle,children:[(0,a.jsx)("button",{className:"".concat(p().halfButton," ").concat(C?"":p().activeHalf),onClick:()=>w(!1),children:"P1"}),(0,a.jsx)("button",{className:"".concat(p().halfButton," ").concat(C?p().activeHalf:""),onClick:()=>w(!0),children:"P2"})]})]})]})}),(0,a.jsxs)("div",{className:p().formGroup,children:[(0,a.jsx)("label",{className:p().playerTitle,children:"dribble"===_?"Wybierz zawodnika dryblującego:":"Wybierz zawodnik\xf3w:"}),(0,a.jsx)("div",{className:p().playerSelectionInfo,children:"pass"===_?(0,a.jsx)("p",{children:"Kliknij, aby wybrać zawodnika rozpoczynającego, a następnie kliknij na innego zawodnika, aby wybrać kończącego."}):(0,a.jsx)("p",{children:"Kliknij, aby wybrać zawodnika wykonującego drybling."})}),(0,a.jsx)("div",{className:p().playersGrid,children:n.map(e=>(0,a.jsx)(g,{player:e,isSender:"pass"===_&&e.id===l,isReceiver:"pass"===_&&e.id===i,isDribbler:"dribble"===_&&e.id===l,onSelect:S},e.id))})]}),(0,a.jsxs)("div",{className:p().buttonsGrid,children:[m.map((e,t)=>"toggle"===e.type?(0,a.jsxs)("button",{className:"".concat(p().actionButton," ").concat(j?p().activeButton:""),onClick:x,title:e.description,"aria-pressed":j,type:"button",children:[(0,a.jsx)("span",{className:p().buttonLabel,children:e.label}),(0,a.jsx)("span",{className:p().buttonDescription,children:e.description})]},t):(0,a.jsxs)("button",{className:p().actionButton,onClick:()=>P(e.points),title:e.description,type:"button",children:[(0,a.jsxs)("span",{className:p().buttonLabel,children:[e.label,": ",(0,a.jsx)("b",{children:b})]}),(0,a.jsx)("span",{className:p().buttonDescription,children:e.description})]},t)),(0,a.jsxs)("button",{className:"".concat(p().actionButton," ").concat(k?p().activeButton:""),onClick:()=>{T(!k)},"aria-pressed":k,type:"button",children:[(0,a.jsx)("span",{className:p().buttonLabel,children:"Wejście w PK"}),(0,a.jsx)("span",{className:p().buttonDescription,children:"Zaznacz jeśli akcja zakończyła się wejściem w pole karne"})]}),(0,a.jsxs)("button",{className:"".concat(p().actionButton," ").concat(A?p().activeButton:""),onClick:()=>{v(!A)},"aria-pressed":A,type:"button",children:[(0,a.jsx)("span",{className:p().buttonLabel,children:"Strzał"}),(0,a.jsx)("span",{className:p().buttonDescription,children:"Zaznacz jeśli akcja zakończyła się strzałem"})]}),(0,a.jsxs)("button",{className:"".concat(p().actionButton," ").concat(f?p().activeButton:""),onClick:()=>{N(!f)},disabled:!A,"aria-pressed":f,"aria-disabled":!A,type:"button",style:{opacity:A?1:.5,cursor:A?"pointer":"not-allowed"},children:[(0,a.jsx)("span",{className:p().buttonLabel,children:"Bramka"}),(0,a.jsx)("span",{className:p().buttonDescription,children:"Zaznacz jeśli strzał zakończył się bramką"})]})]}),(0,a.jsxs)("div",{className:p().controlButtons,children:[(0,a.jsx)("button",{className:"".concat(p().controlButton," ").concat(p().resetButton),onClick:I,type:"button",children:"Anuluj"}),(0,a.jsx)("button",{className:"".concat(p().controlButton," ").concat(p().clearButton),onClick:()=>{B(),d(r),M(C),console.log("Reset formularza akcji - zachowano wartości stref i zaznaczonych zawodnik\xf3w")},type:"button",children:"⌫ Resetuj"}),(0,a.jsxs)("div",{className:p().minuteInput,children:[(0,a.jsx)("label",{htmlFor:"action-minute-modal",children:"Minuta:"}),(0,a.jsx)("input",{id:"action-minute-modal",type:"number",value:r,onChange:e=>{d(parseInt(e.target.value)||0)},min:C?46:1,max:C?130:65})]}),(0,a.jsx)("button",{className:"".concat(p().controlButton," ").concat(p().saveButton),onClick:F,type:"button",children:"Zapisz akcję"})]})]})]})})};var j=o(9089),x=o.n(j);let A=(0,n.memo)(function(e){let{selectedZone:t,handleZoneSelect:o,players:n,selectedPlayerId:l,setSelectedPlayerId:i,selectedReceiverId:c,setSelectedReceiverId:s,actionMinute:r,setActionMinute:_,actionType:p,setActionType:u,currentPoints:b,setCurrentPoints:h,isP3Active:m,setIsP3Active:g,isShot:j,setIsShot:A,isGoal:v,setIsGoal:f,isPenaltyAreaEntry:N,setIsPenaltyAreaEntry:k,isSecondHalf:T,setIsSecondHalf:C,handleSaveAction:M,resetActionState:z,startZone:B,endZone:S,isActionModalOpen:P,setIsActionModalOpen:w}=e;return(0,a.jsxs)("section",{className:x().actionContainer,children:[(0,a.jsx)(d,{selectedZone:t,onZoneSelect:(e,t,a,n)=>{null!==e&&o(e,t,a,n)},startZone:B,endZone:S}),(0,a.jsx)(y,{isOpen:P,onClose:()=>{w(!1),z()},players:n,selectedPlayerId:l,selectedReceiverId:c,onSenderSelect:i,onReceiverSelect:s,actionMinute:r,onMinuteChange:_,actionType:p,onActionTypeChange:u,currentPoints:b,onAddPoints:e=>{h(t=>t+e)},isP3Active:m,onP3Toggle:()=>{g(e=>!e)},isShot:j,onShotToggle:A,isGoal:v,onGoalToggle:f,isPenaltyAreaEntry:N,onPenaltyAreaEntryToggle:k,isSecondHalf:T,onSecondHalfToggle:e=>{console.log("ActionSection - zmiana połowy na:",e?"P2":"P1","poprzednia wartość:",T),localStorage.setItem("currentHalf",e?"P2":"P1"),C(e),setTimeout(()=>{console.log("ActionSection - po zmianie, wartość w localStorage:",localStorage.getItem("currentHalf"))},50)},onSaveAction:M,onReset:z})]})});A.displayName="ActionSection";let v=A},7091:e=>{e.exports={toggleContainer:"ActionTypeToggle_toggleContainer__qcq2I",toggleButton:"ActionTypeToggle_toggleButton__DjkpF",active:"ActionTypeToggle_active__diTGF"}},9089:e=>{e.exports={actionContainer:"ActionSection_actionContainer__l4X6e",pitchContainer:"ActionSection_pitchContainer__JeR_9",rightContainer:"ActionSection_rightContainer__vQ_m8"}},9101:e=>{e.exports={modalOverlay:"ActionModal_modalOverlay__rN8LI",modalContent:"ActionModal_modalContent__vnRas",form:"ActionModal_form__u4rwj",formGroup:"ActionModal_formGroup__8KI2b",input:"ActionModal_input__tcxei",select:"ActionModal_select__DQqyQ",selectedPlayer:"ActionModal_selectedPlayer__sL7Lf",pointsDisplay:"ActionModal_pointsDisplay__ZV6dV",pointsLabel:"ActionModal_pointsLabel__c3thF",pointsValue:"ActionModal_pointsValue___J6SZ",buttonsGrid:"ActionModal_buttonsGrid__SiwiY",actionButton:"ActionModal_actionButton__G0I__",activeButton:"ActionModal_activeButton__0uSFa",buttonLabel:"ActionModal_buttonLabel__w30Hn",buttonDescription:"ActionModal_buttonDescription__cZpmw",points:"ActionModal_points__yXeni",controlButtons:"ActionModal_controlButtons__RVWYa",controlButton:"ActionModal_controlButton__JZrNR",clearButton:"ActionModal_clearButton__XjokD",resetButton:"ActionModal_resetButton__jySjX",saveButton:"ActionModal_saveButton__uXgZQ",minuteInput:"ActionModal_minuteInput__t8C49",playersGrid:"ActionModal_playersGrid__EXHGD",playerTile:"ActionModal_playerTile__Dwnf3",playerSenderTile:"ActionModal_playerSenderTile__a7BTo",playerReceiverTile:"ActionModal_playerReceiverTile__ihfIG",playerDribblerTile:"ActionModal_playerDribblerTile__QsInA",withImage:"ActionModal_withImage__6N3Dt",playerTileImage:"ActionModal_playerTileImage__qHZtV",playerTileOverlay:"ActionModal_playerTileOverlay__jO_Fk",playerContent:"ActionModal_playerContent__qrNUR",number:"ActionModal_number__fL6cC",playerInfo:"ActionModal_playerInfo__0bOWI",name:"ActionModal_name__FojhX",details:"ActionModal_details__fV7tz",position:"ActionModal_position__8ZiVr",playerTitle:"ActionModal_playerTitle__4gSJH",playerSelectionInfo:"ActionModal_playerSelectionInfo__C0VlH",togglesRow:"ActionModal_togglesRow__fJvOv",toggleGroup:"ActionModal_toggleGroup__qWHtP",toggleLabel:"ActionModal_toggleLabel__2ADzy",halfToggle:"ActionModal_halfToggle__9kXnp",typeToggle:"ActionModal_typeToggle__3Hl3Y",halfButton:"ActionModal_halfButton__WQO9N",typeButton:"ActionModal_typeButton__tj3di",activeHalf:"ActionModal_activeHalf__BVEVM",activeType:"ActionModal_activeType__9w7T3",passButton:"ActionModal_passButton__uevHc",dribbleButton:"ActionModal_dribbleButton__OZkff"}}}]);